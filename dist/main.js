(()=>{"use strict";function e(){const e=[0,0],t=document.querySelector(".boardcontainer");for(let e=0;e<8;e++){let o=document.createElement("div");for(let t=0;t<8;t++){let n=document.createElement("div");e%2==0?t%2==0?n.classList.add("white"):n.classList.add("black"):t%2==0?n.classList.add("black"):n.classList.add("white"),n.classList.add("cell"),n.dataset.row=e,n.dataset.column=t,n.dataset.x=e,n.dataset.y=t,o.appendChild(n)}o.classList.add("row"),t.appendChild(o)}document.querySelectorAll(".cell").forEach((t=>{const o=parseInt(t.dataset.row,10),n=parseInt(t.dataset.column,10);if(e[0]===o&&e[1]===n){const e=document.createElement("img");e.src="./images/knight.png",e.classList.add("knight"),t.appendChild(e)}}))}const t=new Map,o=[-2,-1,1,2,-2,-1,1,2],n=[-1,-2,-2,-1,1,2,2,1];function s(e,t){const c=e,r=t;return{xCoord:c,yCoord:r,possibleMoves:function(){const e=[];for(let t=0;t<o.length;t++){const a=c+o[t],d=r+n[t];a>=0&&a<8&&d>=0&&d<8&&e.push(s(a,d))}return e}}}let c=!0,r=null,a=null;function d(e){if(e.target.classList.contains("cell")){let t=e.target;if(c){const e=parseInt(t.dataset.row,10),o=parseInt(t.dataset.column,10);!function(){const e=document.querySelector(".knight");e&&e.parentElement.removeChild(e)}(),function(e){const t=document.createElement("img");t.src="./images/knight.png",t.classList.add("knight"),e.appendChild(t)}(t),t.classList.add("start"),r=[e,o],c=!1,document.querySelector(".text").textContent="Choose the Knight's final destination"}else{const e=parseInt(t.dataset.row,10),o=parseInt(t.dataset.column,10);a=[e,o],t.classList.add("end"),document.querySelector(".boardcontainer").removeEventListener("click",d)}}r&&a&&function(e,o){t.clear();const n=s(...e),c=s(...o),r=[n],a=[];for(;r.length>0;){const e=r.shift();if(e.xCoord===c.xCoord&&e.yCoord===c.yCoord){const t=[];let o=e;for(;o;)t.unshift([o.xCoord,o.yCoord]),a.push(o),o=o.predecessor;a.shift(),a.reverse().shift(),a.forEach(((e,t)=>{const o=document.querySelector(`[data-row="${e.xCoord}"][data-column="${e.yCoord}"]`);o.classList.add("path"),o.textContent=t+1})),document.querySelector(".end").textContent="End";const n=document.querySelector(".text"),s=t.map((e=>`[${e[0]}, ${e[1]}]`)).join(" -> ");return n.innerHTML=`\n            <div class="first"> The shortest path was ${t.length-1} moves!</div>\n            <div class="first"> The moves were: ${s} </div>\n            `,console.log(`The shortest path was ${t.length-1} moves!`),console.log("The moves were:"),void console.log(t)}const o=e.possibleMoves();for(const n of o){const o=`${n.xCoord},${n.yCoord}`;t.has(o)||(n.predecessor=e,r.push(n),t.set(o,n))}}console.log("No path found.")}(r,a)}const l=document.querySelector(".boardcontainer"),i=document.querySelector(".reset");document.addEventListener("DOMContentLoaded",(()=>{e()})),l.addEventListener("click",d),i.addEventListener("click",(function(){c=!0,r=null,a=null;const t=document.querySelector(".boardcontainer");t.innerHTML="",e(),t.addEventListener("click",d),document.querySelector(".text").textContent="Place your Knight"}))})();