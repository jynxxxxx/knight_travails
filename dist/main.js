(()=>{"use strict";const t=new Map,e=[-2,-1,1,2,-2,-1,1,2],o=[-1,-2,-2,-1,1,2,2,1];function n(t,s){const c=t,a=s;return{xCoord:c,yCoord:a,possibleMoves:function(){const t=[];for(let s=0;s<e.length;s++){const r=c+e[s],d=a+o[s];r>=0&&r<8&&d>=0&&d<8&&t.push(n(r,d))}return t}}}let s=!0,c=null,a=null;const r=document.querySelector(".boardcontainer"),d=document.querySelector(".reset");document.addEventListener("DOMContentLoaded",(()=>{!function(){const t=[0,0],e=document.querySelector(".boardcontainer");for(let t=0;t<8;t++){let o=document.createElement("div");for(let e=0;e<8;e++){let n=document.createElement("div");t%2==0?e%2==0?n.classList.add("white"):n.classList.add("black"):e%2==0?n.classList.add("black"):n.classList.add("white"),n.classList.add("cell"),n.dataset.row=t,n.dataset.column=e,n.dataset.x=t,n.dataset.y=e,o.appendChild(n)}o.classList.add("row"),e.appendChild(o)}document.querySelectorAll(".cell").forEach((e=>{const o=parseInt(e.dataset.row,10),n=parseInt(e.dataset.column,10);if(t[0]===o&&t[1]===n){const t=document.createElement("img");t.src="./images/knight.png",t.classList.add("knight"),e.appendChild(t)}}))}()})),r.addEventListener("click",(function e(o){if(o.target.classList.contains("cell")){let t=o.target;if(s){const e=parseInt(t.dataset.row,10),o=parseInt(t.dataset.column,10);!function(){const t=document.querySelector(".knight");t&&t.parentElement.removeChild(t)}(),function(t){const e=document.createElement("img");e.src="./images/knight.png",e.classList.add("knight"),t.appendChild(e)}(t),t.classList.add("start"),c=[e,o],s=!1,document.querySelector(".text").textContent="Choose the Knight's final destination"}else{const o=parseInt(t.dataset.row,10),n=parseInt(t.dataset.column,10);a=[o,n],t.classList.add("end"),document.querySelector(".boardcontainer").removeEventListener("click",e)}}c&&a&&function(e,o){t.clear();const s=n(...e),c=n(...o),a=[s],r=[];for(;a.length>0;){const e=a.shift();if(e.xCoord===c.xCoord&&e.yCoord===c.yCoord){const t=[];let o=e;for(;o;)t.unshift([o.xCoord,o.yCoord]),r.push(o),o=o.predecessor;r.shift(),r.reverse().shift(),r.forEach(((t,e)=>{const o=document.querySelector(`[data-row="${t.xCoord}"][data-column="${t.yCoord}"]`);o.classList.add("path"),o.textContent=e+1})),document.querySelector(".end").textContent="End";const n=document.querySelector(".text"),s=t.map((t=>`[${t[0]}, ${t[1]}]`)).join(" -> ");return n.innerHTML=`\n            <div class="first"> The shortest path was ${t.length-1} moves!</div>\n            <div class="first"> The moves were: ${s} </div>\n            `,console.log(`The shortest path was ${t.length-1} moves!`),console.log("The moves were:"),void console.log(t)}const o=e.possibleMoves();for(const n of o){const o=`${n.xCoord},${n.yCoord}`;t.has(o)||(n.predecessor=e,a.push(n),t.set(o,n))}}console.log("No path found.")}(c,a)})),d.addEventListener("click",(function(){location.reload()}))})();